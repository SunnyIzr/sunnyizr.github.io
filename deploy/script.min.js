var i=0,EmailSignUps={submitEmail:function(a){$.ajax({url:apiUrl+"/email_submissions",method:"post",data:{email_submission:{email:a}}}).done(function(){i=0,$(".only-home-page").addClass("active")}).error(function(){i++,6===i?$(".try-again-later").addClass("active"):($(".errore").addClass("active"),setTimeout(function(){$(".errore, .welcom-content, .start_here-button-holder ").removeClass("active"),$(".input-holder, .sing-up-btn").css("opacity","1.0")},1500))})}},LeadGenGenerator={init:function(){this.loadLeadGen(),this.displayEmailInput(),this.successfulSignUp()},loadLeadGen:function(){$("#loadLeadGen").click(function(){$(".leadGenContent").show(),$(".social_sp_block").animate({scrollTop:$(".social_sp_block")[0].scrollHeight},700),setTimeout(function(){$(".leadGenContent").addClass("active")},200)})},displayEmailInput:function(){$(".start-btn").click(function(){$(".start-btn").addClass("grow"),setTimeout(function(){$(".start-btn").css("opacity","0.0"),$(".input-holder input").focus()},700),setTimeout(function(){$(".input-holder, .sing-up-btn").css("opacity","1.0"),$(".start-btn").css("z-index","-1")},900)})},successfulSignUp:function(){$(".sing-up-btn").click(function(){$(".social-sp-content").hide(),$(".input-holder, .sing-up-btn").css("opacity","0.0"),$(".welcom-content, .start_here-button-holder").addClass("active"),fbq("track","Lead"),setTimeout(function(){$(".welcom-content").css("opacity","1.0")},200)})}},stopTime,QuestionGenerator={init:function(){},sessionId:null,startQuiz:function(){$("body").addClass("cloak"),$.ajax({url:apiUrl+"/spender_quiz_submissions",method:"post"}).done(function(a){QuestionGenerator.sessionId=a.session_id,QuestionGenerator.populateQuestionAndProgress(a.question,a.progress,a.percent_complete),changePageAnim("quiz_active")})},submitQuestion:function(a,b){$.ajax({url:apiUrl+"/spender_quiz_submissions",method:"patch",data:{session_id:QuestionGenerator.sessionId,response:{question:a,answer:b}}}).done(function(a){QuestionGenerator.sessionId=a.session_id,stopTime&&clearTimeout(stopTime),$("#quiz_question").addClass("animText"),stopTime=setTimeout(function(){"question"===a.type?(QuestionGenerator.populateQuestionAndProgress(a.question,a.progress,a.percent_complete),$("#quiz_choices").removeClass("active"),$("#quiz_question").removeClass("animText")):"result"===a.type&&($("body").addClass("cloak"),QuestionGenerator.populatesResult(a.result))},2e3)})},populateQuestionAndProgress:function(a,b,c){var d="";$("#progress").length&&($("#progress").width(100*c+"%"),$("#progressNum").text(b)),$("#quiz_question").text(a.body),a.choices.map(function(a){d+='<div class="storeBlock" data-name="'+a.name+'"><img src="./images/'+a.image+'.png" alt="'+a.name+'"/><p>'+a.body+"</p></div>"}),$("#quiz_choices").html(d),$(".storeBlock").click(function(){$(this).addClass("active"),$("#quiz_choices").addClass("active"),QuestionGenerator.submitQuestion(a.name,this.dataset.name)})},populatesResult:function(a){$("#resultTitle").text(a.title),$("#resultImg").attr("src","./images/"+a.image+".jpg"),$("#resultTips").html(a.tips),$("#resultDesc").html(a.desc),changePageAnim("result_active","quiz_active")}};const apiUrl="https://clasp-subs.herokuapp.com",changePageAnim=function(a,b){setTimeout(function(){var c="cloak "+b;$("body").addClass(a).removeClass(c)},250)},togglePopup=function(){$("body").toggleClass("activePopup")};$(document).ready(function(){if($("#article-page").length){var a=setTimeout(function(){togglePopup(),clearTimeout(a),a=null},15e3);$(".togglePopup").on("click",togglePopup)}else $(".team").click(function(){$(".nav-bar, .aboutPage").addClass("active"),$(".bio-section."+this.dataset.member).addClass("active"),$(".about-us-section.active").removeClass("active")}),$(".back-btn").click(function(){$(".bio-section.active, .nav-bar.active, .aboutPage.active").removeClass("active"),$(".about-us-section").addClass("active")}),$("#startQuiz, #startQuiz2").click(QuestionGenerator.startQuiz),$("#submitEmailButton").on("click",function(){var a=$("#emailInput").val();EmailSignUps.submitEmail(a)}),$("#emailInput").on("keyup",function(a){13===a.keyCode&&(a.preventDefault(),$("#submitEmailButton").click())}),LeadGenGenerator.init()});