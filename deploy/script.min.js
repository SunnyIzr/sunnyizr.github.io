var LeadGenGenerator={init:function(){this.loadLeadGen(),this.displayEmailInput(),this.successfulSignUp()},loadLeadGen:function(){$("#loadLeadGen").click(function(){$(".leadGenContent").show(),$(".social_sp_block").animate({scrollTop:$(".social_sp_block")[0].scrollHeight},700),setTimeout(function(){$(".leadGenContent").addClass("active")},200)})},displayEmailInput:function(){$(".start-btn").click(function(){$(".start-btn").addClass("grow"),setTimeout(function(){$(".start-btn").css("opacity","0.0"),$(".input-holder input").focus()},700),setTimeout(function(){$(".input-holder, .sing-up-btn").css("opacity","1.0"),$(".start-btn").css("z-index","-1")},900)})},successfulSignUp:function(){$(".sing-up-btn").click(function(){$(".social-sp-content").hide(),$(".input-holder, .sing-up-btn").css("opacity","0.0"),$(".welcom-content").addClass("active"),setTimeout(function(){$(".welcom-content").css("opacity","1.0")},200)})}},QuestionGenerator={init:function(){},sessionId:null,startQuiz:function(){$("body").addClass("cloak"),$.ajax({url:apiUrl+"/spender_quiz_submissions",method:"post"}).done(function(a){QuestionGenerator.sessionId=a.session_id,QuestionGenerator.populateQuestionAndProgress(a.question,a.progress,a.percent_complete),changePageAnim("quiz_active")})},submitQuestion:function(a,b){$.ajax({url:apiUrl+"/spender_quiz_submissions",method:"patch",data:{session_id:QuestionGenerator.sessionId,response:{question:a,answer:b}}}).done(function(a){QuestionGenerator.sessionId=a.session_id,"question"==a.type?QuestionGenerator.populateQuestionAndProgress(a.question,a.progress,a.percent_complete):"result"==a.type&&($("body").addClass("cloak"),QuestionGenerator.populatesResult(a.result))})},populateQuestionAndProgress:function(a,b,c){var d="";$("#progress").length&&($("#progress").width(100*c+"%"),$("#progressNum").text(b)),$("#quiz_question").text(a.body),a.choices.map(function(a){d+='<div class="storeBlock" data-name="'+a.name+'"><img src="./images/'+a.image+'.png" alt="'+a.name+'"/><p>'+a.body+"</p></div>"}),$("#quiz_choices").html(d),$(".storeBlock").click(function(){QuestionGenerator.submitQuestion(a.name,this.dataset.name)})},populatesResult:function(a){$("#resultTitle").text(a.title),$("#resultImg").attr("src","./images/"+a.image+".jpg"),$("#resultTips").html(a.tips),$("#resultDesc").html(a.desc),changePageAnim("result_active","quiz_active")}};const apiUrl="https://clasp-subs.herokuapp.com",changePageAnim=function(a,b){setTimeout(function(){var c="cloak "+b;$("body").addClass(a).removeClass(c)},250)};$(document).ready(function(){$("#startQuiz, #startQuiz2").click(QuestionGenerator.startQuiz),LeadGenGenerator.init()});